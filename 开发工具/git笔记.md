# Git笔记  
## 一、基本概念  
#### 1.Git分支
Git仓库有一个master分支，用户A、B分别下载分支并本地修改。A进行修改后发现B已经提交了修改。若A需要持续修改仓库，则无需每次修改完都进行提交，因为这样需要检查合并其他人的修改；A只需创建一个自己的分支，全部修改完毕后再提交并用diff工具检查合并。
#### 2.工作区、暂存区和版本库  
**工作区**：就是你在电脑里能看到的目录。(不包括.git目录)  
**暂存区**：英文叫 stage 或 index。一般存放在 .git 目录下的 index 文件（.git/index）中，所以我们把暂存区有时也叫作索引（index）。  
**版本库**：工作区有一个隐藏目录 .git，这个不算工作区，而是 Git 的版本库。  
![](https://www.runoob.com/wp-content/uploads/2015/02/1352126739_7909.jpg)
·index是暂存区。  
·HEAD是指向master的，因此命令中可以用HEAD代替master。  
·图中的 objects 标识的区域为 Git 的对象库，实际位于 ".git/objects" 目录下，里面包含了创建的各种对象及内容。  
·当对工作区修改（或新增）的文件执行 git add 命令时，暂存区的目录树被更新，同时工作区修改（或新增）的文件内容被写入到对象库中的一个新的对象中，而该对象的ID被记录在暂存区的文件索引中。  
·当执行提交操作（git commit）时，暂存区的目录树写到版本库（对象库）中，master 分支会做相应的更新。即 master 指向的目录树就是提交时暂存区的目录树。   

## 二、常见基本操作  
#### 1.设置用户名、邮箱等配置  
```git config --global user.name "用户名"```  
设置用户名，若global后面改成user.email则可设置用户邮箱。  
若取消global则设置仅对当前仓库生效。  
#### 2.查看配置项 
```git config --list```  

#### 3.创建仓库  
```git init```  
这个命令会创建一个.git文件夹  

#### 4.克隆仓库  
```git clone <repo> <directory>```  
将Git仓库拷贝到directory下，directory可省略，若缺省则拷贝至当前目录下。   

#### 5.添加文件到暂存区  
```git add [参数]...```  
参数可以是多个文件，用空格隔开；若是文件夹，则将包括子目录的所有文件添加；
```git add .```  
添加当前目录下所有文件到暂存区。  

#### 6.将暂存区内容写入本地仓库  
```git commit -m [message]```  

#### 7.查看修改  
```git status -s```  
执行后输出“标记+文件名”的形式，例如：```AM x.php```  
标记的说明如下：  
·??标记：新添加的未跟踪文件前面会有红色的??标记，即没有执行```git add .```命令的文件。   
·A标记：新添加到暂存区的文件前面会有绿色的A标记，即已经执行了```git add .```命令的文件。  
·AM标记：A表示该文件加入到暂存区了，而M表示该文件被修改过了，修改后的文件还没有添加到暂存区。  

##### gitignore  
untracked文件有两类，一类是没有执行```git add .```命令的文件，另一类是一些编译了的程序文件(如```.pyc```, ```.obj```, ```.exe```等)，这些文件并不想add，但是会在执行```git status```的时候被显示出来。  
在.gitignore文件中列出想要忽略的文件，每种文件占一行。   
```
*.pyd  
*.tmp  
```  

#### 7.查看历史提交记录  
```git log```  
如果加上--oneline参数，则会简化输出。  


## 三、分支操作  
[参考链接1](https://www.php.cn/tool/git/489934.html)  
初始化本地Git仓库的时候，Git默认建立了一个master分支，master主分支的作用是**用来保存和记录整个项目已完成的功能代码**，因此不允许直接在master分支上修改代码。  
注意：github默认创建的分支为main。
**功能分支**指的是专门用来开发新功能的分支，它是临时从master主分支上分叉出来的，当新功能开发且测试完毕后，最终需要合并到master主分支上。  

#### 1.查看分支列表  
```git branch```  
查看所有分支列表，带有*号的是当前分支。  

#### 2.创建新分支  
```git branch [分支名称]```  
在当前分支上创建指定名字的分支。  

#### 3.切换分支  
```git checkout [分支名称]```  
切换到指定的分支上进行开发。  
```git checkout -b [分支名称]```   
创建指定名称的新分支，并立即切换到新分支上。  

#### 4.合并分支  
```git merge [分支名称]```   
将C分支的代码合并到A分支，则**必须先切换到A分支上，再执行git merge命令**。  
如果在两个不同的分支中，对同一个文件进行了不同的修改，Git就没法干净的合并它们。此时，我们需要打开这些包含冲突的文件然后手动解决冲突。  
手动解决冲突后，重新提交：  
```
 git add .
 git commit -m “解决了分支合并冲突的问题"
 git merge 分支名称
 ```  
 
 #### 5.删除分支  
 ```git branch -d 分支名称```  
 合并结束后，删除已经合并的分支。  
 
 #### 6.以列表形式查看指定文件的历史修改记录  
 ```git blame <file>```  

 ## 四、Git与Github  
